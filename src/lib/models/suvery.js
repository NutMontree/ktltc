// src/lib/models/suvery.js

import mongoose, { Schema } from "mongoose";

// ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á (Schema) ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏£‡∏ß‡∏à
const suverySchema = new Schema(
    {
        // 1. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠
        roomId: { type: String, required: true },
        studentId: {
            type: String,
            required: true,
            unique: true, // üëà ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏à‡∏∏‡∏î‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Å‡∏¥‡∏î E11000
            trim: true
        },
        fullName: { type: String, required: true },
        age: { type: Number },

        // ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ
        addrNumber: String,
        addrBuilding: String,
        addrMoo: String,
        addrSoi: String,
        addrRoad: String,
        addrSubDistrict: String,
        addrDistrict: String,
        addrProvince: String,
        addrZipCode: String,
        contactTel: String,
        contactEmail: String,

        // 2. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤
        homeProvince: String,
        college: { type: String, default: '‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏Å‡∏±‡∏ô‡∏ó‡∏£‡∏•‡∏±‡∏Å‡∏©‡πå' },
        collegeProvince: { type: String, default: '‡∏®‡∏£‡∏µ‡∏™‡∏∞‡πÄ‡∏Å‡∏©' },
        graduationYear: Number,
        educationLevel: String, // ‡∏õ‡∏ß‡∏ä./‡∏õ‡∏ß‡∏™.
        gender: String, // ‡∏ä‡∏≤‡∏¢/‡∏´‡∏ç‡∏¥‡∏á
        gpa: Number, // ‡πÄ‡∏Å‡∏£‡∏î‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏™‡∏∞‡∏™‡∏°

        // 3. ‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
        // üí° ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ Type ‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏á‡∏≤‡∏ô
        currentStatus: {
            type: String,
            // enum: ['‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô', '‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß', '‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡πà‡∏≠'], // ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏Ñ‡πà‡∏≤
            required: true // ‡∏Ñ‡∏ß‡∏£‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏õ‡πá‡∏ô required ‡∏´‡∏≤‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏´‡∏•‡∏±‡∏Å
        },

        // 3.1 ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏°‡∏∑‡πà‡∏≠ "‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô"
        notWorkingReasonGroup: String, // ‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡πà‡∏≠, ‡∏´‡∏≤‡∏á‡∏≤‡∏ô‡∏ó‡∏≥‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ, ‡∏£‡∏≠‡∏ü‡∏±‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö, ‡πÑ‡∏°‡πà‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
        unemployedReason: String, // ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (1, 2, 3, 4)
        unemployedReasonOther: String, // ‡∏≠‡∏∑‡πà‡∏ô‡πÜ (‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏∞‡∏ö‡∏∏)
        jobSearchProblem: String, // ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏´‡∏≤‡∏á‡∏≤‡∏ô‡∏ó‡∏≥ (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏£‡∏ì‡∏µ "‡∏´‡∏≤‡∏á‡∏≤‡∏ô‡∏ó‡∏≥‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ")

        // 3.2 ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏°‡∏∑‡πà‡∏≠ "‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß"
        employmentType: String, // ‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£, ‡∏£‡∏±‡∏ê‡∏ß‡∏¥‡∏™‡∏≤‡∏´‡∏Å‡∏¥‡∏à, ‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ö‡∏£‡∏¥‡∏©‡∏±‡∏ó, ‡∏≠‡∏∑‡πà‡∏ô‡πÜ
        employmentTypeOther: String, // ‡∏≠‡∏∑‡πà‡∏ô‡πÜ (‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏∞‡∏ö‡∏∏)
        jobTitle: String,
        workplaceName: String,
        workplaceTel: String,
        // ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
        workplaceAddrNumber: String,
        workplaceAddrMoo: String,
        workplaceAddrSoi: String,
        workplaceAddrRoad: String,
        workplaceAddrSubDistrict: String,
        workplaceAddrDistrict: String,
        workplaceAddrProvince: String,
        workplaceAddrZipCode: String,

        // 4. ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à
        salaryRange: String, // 1, 2, 3, 4, 5
        salaryRangeOther: String, // ‡∏≠‡∏∑‡πà‡∏ô‡πÜ (‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏∞‡∏ö‡∏∏)
        jobMatch: String, // 1 ‡∏ï‡∏£‡∏á / 2 ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á
        jobSatisfaction: String, // 1 ‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à / 2 ‡πÑ‡∏°‡πà‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à

        // 5. ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡πà‡∏≠
        furtherStudyIntention: String, // ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡πà‡∏≠ / ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏ï‡πà‡∏≠
        furtherStudyLevel: String, // ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏¥‡∏ç‡∏ç‡∏≤‡∏ï‡∏£‡∏µ, ‡πÇ‡∏ó, ‡πÄ‡∏≠‡∏Å
        furtherStudyMajor: String, // ‡∏™‡∏≤‡∏Ç‡∏≤‡πÄ‡∏î‡∏¥‡∏° / ‡∏£‡∏∞‡∏ö‡∏∏‡∏™‡∏≤‡∏Ç‡∏≤
        furtherStudyMajorDetail: String, // ‡∏£‡∏∞‡∏ö‡∏∏‡∏™‡∏≤‡∏Ç‡∏≤ (text input)
        furtherStudyReason: String, // 1, 2, 3, 4
        furtherStudyReasonOther: String, // ‡∏≠‡∏∑‡πà‡∏ô‡πÜ (‡πÇ‡∏õ‡∏£‡∏î‡∏£‡∏∞‡∏ö‡∏∏)

        // 6. ‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞
        suggestion: String,

        // 7. ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤
        submittedAt: { type: Date, required: true },
    },
    {
        timestamps: true // ‡πÄ‡∏û‡∏¥‡πà‡∏° createdAt ‡πÅ‡∏•‡∏∞ updatedAt ‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
    }
);

// ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Model ‡∏ä‡∏∑‡πà‡∏≠ 'Suvery' ‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
// üí° ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ó‡∏µ‡πà Export ‡πÄ‡∏õ‡πá‡∏ô Suvery (‡∏ï‡∏±‡∏ß‡πÉ‡∏´‡∏ç‡πà) ‡∏ï‡∏≤‡∏° Best Practice
const Suvery = mongoose.models.Suvery || mongoose.model("Suvery", suverySchema);

// üí° Export ‡∏ï‡∏±‡∏ß Model ‡∏ó‡∏µ‡πà‡∏ä‡∏∑‡πà‡∏≠ Suvery
export default Suvery;